{"mappings":"AAAA,yDAAyD;AACzD,mDAAmD;AAGnD,MAAM;IACF,YAAY,SAAS,CAAE;QACnB,IAAI,CAAC,SAAS,GAAG;QAEjB,IAAI,CAAC,QAAQ,GAAG;QAEhB,IAAI,CAAC,gBAAgB,IAAO,sJAAsJ;IACtL;IAEA,8BAA8B;IAE9B,MAAM,mBAAmB;QACrB,IAAI;YAEA,MAAM,WAAW;YACjB,MAAM,WAAW,MAAM,MAAM,CAAC,mDAAmD,EAAE,SAAS,CAAC;YAE7F,IAAI,OAAO,MAAM,SAAS,IAAI;YAE9B,OAAK,IAAI,CAAC,EAAE;YACZ,QAAQ,GAAG,CAAC;YAEZ,oDAAoD;YACpD,IAAI,CAAC,QAAQ,GAAG,KAAK,IAAI,IAAI;YAC7B,IAAI,CAAC,UAAU,GAAG,KAAK,UAAU,IAAI;YACrC,IAAI,CAAC,MAAM,GAAG,KAAK,SAAS,IAAI;YAChC,IAAI,CAAC,UAAU,GAAG,KAAK,gBAAgB,IAAI;YAC3C,IAAI,CAAC,aAAa,GAAG,KAAK,iBAAiB,IAAI;YAC/C,IAAI,CAAC,UAAU,GAAG,KAAK,WAAW,IAAI;YACtC,IAAI,CAAC,gBAAgB,GAAG,KAAK,kBAAkB,IAAI;YACnD,IAAI,CAAC,iBAAiB,GAAG,KAAK,mBAAmB,IAAI;YACrD,IAAI,CAAC,YAAY,GAAG,KAAK,aAAa,IAAI;YAC1C,IAAI,CAAC,aAAa,GAAG,KAAK,cAAc,IAAI;YAC5C,IAAI,CAAC,mBAAmB,GAAG,KAAK,qBAAqB,IAAI;YACzD,IAAI,CAAC,UAAU,GAAG,KAAK,WAAW,IAAI;YAEtC,4CAA4C;YAC5C,IAAI,CAAC,MAAM;QACf,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iCAAiC;QACnD;IACJ;IAEA,uBAAuB;IACvB,SAAS;QACL,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;wBA0BZ,EAAE,IAAI,CAAC,QAAQ,CAAC,qCAAqC,EAAE,IAAI,CAAC,UAAU,CAAC;2CACpD,EAAE,IAAI,CAAC,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;wBAuBjC,EAAE,IAAI,CAAC,UAAU,CAAC;;;;wBAIlB,EAAE,IAAI,CAAC,aAAa,CAAC;;;;wBAIrB,EAAE,IAAI,CAAC,UAAU,CAAC;;;;wBAIlB,EAAE,IAAI,CAAC,gBAAgB,CAAC;;;;wBAIxB,EAAE,IAAI,CAAC,iBAAiB,CAAC;;;;wBAIzB,EAAE,IAAI,CAAC,YAAY,CAAC;;;;wBAIpB,EAAE,IAAI,CAAC,aAAa,CAAC;;;;wBAIrB,EAAE,IAAI,CAAC,mBAAmB,CAAC;;;;wBAI3B,EAAE,IAAI,CAAC,UAAU,CAAC;;;;QAIlC,CAAC;IACL;AACJ","sources":["Components/UiComponents/ProfileHeader.js"],"sourcesContent":["// import Driver_Profile from '/logo/group-28389@2x.png';\r\n// import { API_BASE_URL } from '../../Config/Url';\r\n\r\n\r\nclass ProfileHeader {\r\n    constructor(container) {\r\n        this.container = container;\r\n\r\n        this.userName = 'Loading...';\r\n       \r\n        this.fetchProfileData();    //this  -current instance of an object. It is used to access properties or methods that belong to the object in which the code is currently executing.\r\n    }                               //fetch -retrieves profile data from a specified API endpoint using the fetch API,\r\n   \r\n    // Fetch profile data from API\r\n    \r\n    async fetchProfileData() {  // Non-blocking: When you call an asynchronous function, the code doesn't stop and wait for the result. Instead, it moves on to execute the next line of code. The result is handled later, usually with a promise.\r\n        try {\r\n           \r\n            const driverId = 'NOTDR001';  \r\n            const response = await fetch(`http://localhost:3000/api/driver-profile?driver_id=${driverId}`);\r\n           \r\n            let data = await response.json();\r\n\r\n            data=data[0]\r\n            console.log(data)\r\n\r\n            // Update the class properties with the fetched data\r\n            this.userName = data.name || 'Unknown';\r\n            this.lastUpdate = data.LastUpdate || 'N/A';\r\n            this.userId = data.driver_id || 'N/A';\r\n            this.experience = data.experience_years || 'N/A';\r\n            this.totalDistance = data.total_distance_km || '0 Km';\r\n            this.totalHours = data.total_hours || '0h 0m';\r\n            this.totalOfficeTrips = data.total_office_trips || '0';\r\n            this.totalRegularTrips = data.total_regular_trips || '0';\r\n            this.totalRevenue = data.total_revenue || '₹0';\r\n            this.driverRevenue = data.driver_revenue || '₹0';\r\n            this.totalVehiclesDriven = data.total_vehicles_driven || '0';\r\n            this.joinedDate = data.joined_date || 'N/A';\r\n\r\n            // Re-render the component with updated data\r\n            this.render();\r\n        } catch (error) {\r\n            console.error('Failed to fetch profile data:', error);\r\n        }\r\n    }\r\n\r\n    // Render the component\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"status-container\">\r\n                <div class=\"left\">\r\n                    <img src=\"../Assets/Images/group-28389@2x.png\" alt=\"\" width=\"30px\" height=\"30px\">\r\n                </div>\r\n                <div class=\"right\">\r\n                    <div class=\"status-button\">\r\n                        <span class=\"active-1\"><img style=\"width: 20px; padding-right: 6px;\" src=\"../Assets/Images/path-39207@2x.png\" alt=\"\">All Documents are up to date</span>\r\n                    </div>\r\n                    <div class=\"status-button\">\r\n                        <button class=\"active\"> ACTIVE <img style=\"padding-left: 4px;\" src=\"../Assets/Images/path-38334@2x.png\" alt=\"\" width=\"10px\"></button>\r\n                    </div>\r\n                    <div class=\"icon-button\">\r\n                        <button class=\"pen\"><img src=\"../Assets/Images/path-38491@2x.png\" width=\"20px\"></button>\r\n                    </div>\r\n                    <div class=\"icon-button\">\r\n                        <button class=\"del\"><img src=\"../Assets/Images/path-38492@2x.png\" width=\"20px\"></button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"user-info\">\r\n                <div class=\"img\">\r\n                    <img src=\"../Assets/Images/vmlogo.png.jpg\" alt=\"User Profile Picture\" class=\"logo\">\r\n                </div>\r\n                <div class=\"name-txt\">\r\n                    <h3>${this.userName} <span class=\"sub-text\">Last Update: ${this.lastUpdate}</span></h3>\r\n                    <span class=\"NOTDR001\">${this.userId}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"lgo-1\">\r\n                    <img src=\"../Assets/Images/call.png\" srcset=\"../Assets/Images/call2x.png, ../Assets/Images/call3x.png\" class=\"Group-25526\">\r\n                    <img src=\"../Assets/Images/group-25527.png\" srcset=\"../Assets/Images/group-25527@2x.png 2x, ../Assets/Images/group-25527@3x.png 3x\" class=\"Group-25527\">\r\n                    <img src=\"../Assets/Images/group-25528.png\" srcset=\"../Assets/Images/group-25528@2x.png 2x, ../Assets/Images/group-25528@3x.png 3x\" class=\"Group-25528\">\r\n                    <img src=\"../Assets/Images/group-25529.png\" srcset=\"../Assets/Images/group-25529@2x.png 2x, ../Assets/Images/group-25529@3x.png 3x\" class=\"Group-25529\">\r\n                </div>\r\n                <div class=\"lgo-2\">\r\n                        <button class=\"Driver\">Driver Only</button>\r\n                    <button class=\"Fleet\">Fleet</button>\r\n                    <button class=\"Office\">Office Rides</button>\r\n                    <button class=\"Travels\">New Pandian Travels</button>\r\n                    <button class=\"npt\">NPT - HCL</button>\r\n                    <button class=\"km\">KM Based Payment</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"status-section\">\r\n                <div class=\"status-card\">\r\n                    <h3>${this.experience}</h3>\r\n                    <p>Experience</p>\r\n                </div>\r\n                <div class=\"status-card\">\r\n                    <h3>${this.totalDistance}</h3>\r\n                    <p>Total Distance</p>\r\n                </div>\r\n                <div class=\"status-card\">\r\n                    <h3>${this.totalHours}</h3>\r\n                    <p>Total Hours</p>\r\n                </div>\r\n                <div class=\"status-card\">\r\n                    <h3>${this.totalOfficeTrips}</h3>\r\n                    <p>Total Office Trips</p>\r\n                </div>\r\n                <div class=\"status-card\">\r\n                    <h3>${this.totalRegularTrips}</h3>\r\n                    <p>Total Regular Trips</p>\r\n                </div>\r\n                <div class=\"status-card\">\r\n                    <h3>${this.totalRevenue}</h3>\r\n                    <p>Total Revenue</p>\r\n                </div>\r\n                <div class=\"status-card\">\r\n                    <h3>${this.driverRevenue}</h3>\r\n                    <p>Driver Revenue</p>\r\n                </div>\r\n                <div class=\"status-card\">\r\n                    <h3>${this.totalVehiclesDriven}</h3>\r\n                    <p>Total Vehicles Driven</p>\r\n                </div>\r\n                <div class=\"status-card\">\r\n                    <h3>${this.joinedDate}</h3>\r\n                    <p>Joined Date</p>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n}\r\n"],"names":[],"version":3,"file":"index.68cac249.js.map","sourceRoot":"/__parcel_source_root/"}